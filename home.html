<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - TownBoat</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #F0F2F5; /* Light background for a clean, modern look */
            color: #1A1A1A; /* Dark text for readability */
        }
        textarea::placeholder {
            color: #888888; /* Muted gray for placeholders */
        }
        .post-card {
            background-color: #FFFFFF; /* White background for cards */
            color: #1A1A1A; /* Primary text color for content within cards */
            border: 1px solid #E0E0E0; /* Light border for separation */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Subtle shadow */
            border-radius: 12px; /* Rounded corners for a modern feel */
        }
        /* Ensure all text within post-card is readable on light background */
        .post-card .text-gray-300,
        .post-card .text-gray-500,
        .post-card .text-gray-600,
        .post-card .text-gray-800,
        .post-card .text-black { 
            color: #1A1A1A !important; /* Override all shades of gray/black to dark gray for readability */
        }
        /* Specific adjustments for secondary information within cards */
        .post-card .post-time-ago,
        .post-card .comment-author-info span:last-child,
        .post-card .reply-author-info span:last-child {
            color: #888888 !important; /* Muted gray for timestamps and less prominent info */
        }

        .post-card a {
            color: #1DA1F2; /* Consistent blue for links */
        }
        .post-card button {
            color: #1A1A1A; /* Default button text color for actions */
        }
        .post-card .hover\:text-red-500:hover {
            color: #EF4444 !important; /* Red for upvote hover */
        }
        .post-card .hover\:text-emerald-400:hover,
        .post-card .hover\:text-emerald-600:hover {
            color: #1DA1F2 !important; /* Consistent blue for comment/other interactive elements on hover */
        }
        
        /* Specific styles for input fields within the create post form */
        #create-post-form textarea,
        #create-post-form input {
            background-color: #F8F8F8; /* Very light gray for inputs */
            border-color: #E0E0E0; /* Light border for inputs */
            color: #1A1A1A; /* Dark text color */
        }
        #create-post-form textarea:focus,
        #create-post-form input:focus {
            border-color: #1DA1F2; /* Blue focus ring */
            box-shadow: 0 0 0 2px rgba(29, 161, 242, 0.2); /* Subtle blue glow for focus */
        }

        /* Hide scrollbar for webkit browsers */
        ::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        body {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Header specific styles */
        header {
            background-color: #FFFFFF; /* White header */
            border-bottom-color: #E0E0E0; /* Light gray border */
        }
        header a, header button {
            color: #1A1A1A; /* Dark text for header links/buttons */
        }
        header .text-white {
            color: #1A1A1A !important; /* Ensure brand name is dark */
        }
        header .text-gray-300:hover {
            color: #000000 !important; /* Black on hover for navigation */
        }
        header .bg-gray-700 {
            background-color: #E0E0E0; /* Light gray for logout button */
            color: #1A1A1A; /* Dark text for logout button */
        }
        header .hover\:bg-gray-600:hover {
            background-color: #D0D0D0; /* Even lighter on hover for logout button */
        }
        
        /* Mobile menu dropdown */
        #mobile-menu-dropdown {
            background-color: #FFFFFF; /* Match card background */
            border-top-color: #E0E0E0; /* Match card border */
        }
        #mobile-menu-dropdown a {
            color: #1A1A1A; /* Dark text */
        }
        #mobile-menu-dropdown a:hover {
            background-color: #F0F0F0; /* Lighter hover state */
        }
        #mobile-menu-dropdown .text-white {
            color: #1DA1F2 !important; /* Highlight active link with blue */
        }

        /* Post author details */
        .author-avatar {
            width: 40px;
            height: 40px;
            border-radius: 9999px; /* Full circle */
            background-color: #1DA1F2; /* Blue for avatar background */
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600; /* Semibold */
            font-size: 0.875rem; /* text-sm */
            flex-shrink: 0;
        }
        .post-header {
            display: flex;
            align-items: center;
            padding: 1rem; /* p-4 */
            border-bottom: 1px solid #E0E0E0; /* Light border */
        }
        .post-author-info {
            margin-left: 0.75rem; /* ml-3 */
        }
        .post-author-name {
            font-weight: 600; /* Semibold */
            color: #1A1A1A; /* Dark text */
        }
        .post-time-ago {
            color: #888888; /* Muted gray */
            font-size: 0.75rem; /* text-xs */
        }

        /* Post content */
        .post-body {
            padding: 1rem; /* p-4 */
        }
        .post-text {
            color: #1A1A1A; /* Dark text */
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
        }
        .post-image {
            width: 100%;
            height: auto;
            max-height: 300px; /* Limit image height */
            object-fit: cover;
            border-radius: 8px; /* Slightly rounded corners */
            margin-top: 0.75rem; /* mt-3 */
            margin-bottom: 0.5rem; /* mb-2 */
        }

        /* Post actions (upvote, comment) */
        .post-actions {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem; /* px-4 py-3 */
            border-top: 1px solid #E0E0E0; /* Light border */
            color: #888888; /* Muted gray for icons/text */
            font-size: 0.875rem; /* text-sm */
        }
        .action-button {
            display: flex;
            align-items: center;
            margin-right: 1rem; /* mr-4 */
            cursor: pointer;
            transition: color 0.2s ease-in-out, opacity 0.2s ease-in-out;
        }
        .action-button svg {
            width: 1.25rem; /* w-5 */
            height: 1.25rem; /* h-5 */
            margin-right: 0.25rem; /* mr-1 */
        }
        .action-button:hover {
            opacity: 1;
        }
        .upvote-btn.active {
            color: #EF4444; /* Red for active upvote */
        }
        .comment-toggle-btn.active {
            color: #1DA1F2; /* Blue for active comment */
        }

        /* Comments section */
        .comments-section {
            padding: 1rem; /* p-4 */
            border-top: 1px solid #E0E0E0; /* Light border */
            background-color: #F8F8F8; /* Very light gray background for comments */
            border-bottom-left-radius: 12px; /* Match parent card */
            border-bottom-right-radius: 12px; /* Match parent card */
        }
        .comments-list {
            margin-bottom: 1rem; /* mb-4 */
        }
        .comment-item {
            margin-bottom: 0.5rem; /* mb-2 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 1px solid #EFEFEF; /* Even lighter separator */
        }
        .comment-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        .comment-author-info {
            display: flex;
            align-items: center;
            font-size: 0.75rem; /* text-xs */
            color: #888888; /* Muted gray */
            margin-bottom: 0.25rem; /* mb-1 */
        }
        .comment-author-name {
            font-weight: 600; /* Semibold */
            color: #1A1A1A; /* Dark text */
        }
        .comment-time-ago {
            margin-left: 0.5rem; /* ml-2 */
            opacity: 0.7;
        }
        .comment-text {
            color: #1A1A1A; /* Dark text */
            font-size: 0.875rem; /* text-sm */
        }
        .reply-toggle-btn {
            font-size: 0.75rem; /* text-xs */
            color: #1DA1F2; /* Blue */
            margin-top: 0.25rem; /* mt-1 */
            cursor: pointer;
        }
        .replies-section {
            margin-top: 0.5rem; /* mt-2 */
            padding-left: 1rem; /* pl-4 */
            border-left: 1px solid #D0D0D0; /* Light border for replies indentation */
        }
        .reply-item {
            margin-top: 0.25rem; /* mt-1 */
            padding-bottom: 0.25rem; /* pb-1 */
            border-bottom: 1px solid #EFEFEF; /* Very light separator */
        }
        .reply-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        .reply-author-info {
            display: flex;
            align-items: center;
            font-size: 0.75rem; /* text-xs */
            color: #888888; /* Muted gray */
            margin-bottom: 0.125rem; /* mb-0.5 */
        }
        .reply-author-name {
            font-weight: 600; /* Semibold */
            color: #1A1A1A; /* Dark text */
        }
        .reply-time-ago {
            margin-left: 0.5rem; /* ml-2 */
            opacity: 0.6;
        }
        .reply-text {
            color: #1A1A1A; /* Dark text */
            font-size: 0.875rem; /* text-sm */
        }

        /* Comment/Reply input forms */
        .add-comment-form input,
        .add-reply-form input {
            background-color: #F8F8F8; /* Very light input background */
            border-color: #E0E0E0; /* Light border */
            color: #1A1A1A; /* Dark text */
            padding: 0.5rem 0.75rem; /* p-2 */
            border-radius: 8px; /* rounded-lg */
        }
        .add-comment-form button,
        .add-reply-form button {
            background-color: #1DA1F2; /* Blue for post/reply buttons */
            color: white;
            padding: 0.5rem 1rem; /* px-4 py-2 */
            border-radius: 8px; /* rounded-lg */
            font-weight: 600; /* Semibold */
            transition: background-color 0.2s ease-in-out;
        }
        .add-comment-form button:hover,
        .add-reply-form button:hover {
            background-color: #1A91DA; /* Darker blue on hover */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

    <header class="bg-white sticky top-0 border-b border-gray-200 z-50">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="home.html" class="text-gray-900 text-xl font-bold">TownBoat</a>
            
            <div class="md:hidden flex items-center">
                <button id="mobile-menu-button" class="text-gray-900 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>

            <div id="nav-links" class="hidden md:flex space-x-4 items-center">
                <a href="home.html" class="text-gray-900 font-semibold flex items-center space-x-1">
                    <i class="fas fa-home md:hidden"></i><span class="hidden md:inline">Feed</span>
                </a>
                <a href="discover.html" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1">
                    <i class="fas fa-compass md:hidden"></i><span class="hidden md:inline">Discover</span>
                </a>
                <a href="leaderboard.html" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1">
                    <i class="fas fa-trophy md:hidden"></i><span class="hidden md:inline">Leaderboard</span>
                </a>
                <!-- NEW: Deals link for desktop -->
                <a href="deals.html" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1">
                    <i class="fas fa-tags md:hidden"></i><span class="hidden md:inline">Deals</span>
                </a>
                <a href="polls.html" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1">
                    <i class="fas fa-poll md:hidden"></i><span class="hidden md:inline">Polls</span>
                </a>
            </div>

            <button id="logout-btn" class="bg-gray-200 text-gray-900 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition duration-300">
                <i class="fas fa-sign-out-alt md:hidden"></i><span class="hidden md:inline">Logout</span>
            </button>
        </nav>

        <div id="mobile-menu-dropdown" class="md:hidden hidden bg-gray-100 border-t border-gray-200 py-2">
            <a href="home.html" class="block px-4 py-2 text-gray-900 hover:bg-gray-200 flex items-center space-x-2">
                <i class="fas fa-home"></i> <span>Feed</span>
            </a>
            <a href="discover.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-200 flex items-center space-x-2">
                <i class="fas fa-compass"></i> <span>Discover</span>
            </a>
            <a href="leaderboard.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-200 flex items-center space-x-2">
                <i class="fas fa-trophy"></i> <span>Leaderboard</span>
            </a>
            <!-- NEW: Deals link for mobile dropdown -->
            <a href="deals.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-200 flex items-center space-x-2">
                <i class="fas fa-tags"></i> <span>Deals</span>
            </a>
            <a href="polls.html" class="block px-4 py-2 text-gray-600 hover:bg-gray-200 flex items-center space-x-2">
                <i class="fas fa-poll"></i> <span>Polls</span>
            </a>
        </div>
    </header>

    <main class="container mx-auto p-4 py-8 max-w-2xl">
        <div class="bg-white p-6 rounded-lg shadow-lg border border-gray-200 mb-6 post-card">
            <h2 class="text-xl font-bold text-gray-900 mb-4">What's happening in your town?</h2>
            <form id="create-post-form">
                <textarea 
                    id="post-content" 
                    class="w-full p-3 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 placeholder-gray-500" 
                    rows="3" 
                    placeholder="Share an update or ask a question..."
                ></textarea>
                <div class="flex justify-between items-center mt-3">
                    <button type="button" class="text-gray-600 hover:text-blue-500 flex items-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        <span>Add Image</span>
                    </button>
                    <button type="submit" class="bg-blue-500 text-white font-bold px-6 py-2 rounded-lg hover:bg-blue-600 transition duration-300">
                        Post
                    </button>
                </div>
            </form>
        </div>

        <div id="feed-container">
            <!-- Posts will be dynamically loaded here by JS -->
            <div class="post-card p-4 rounded-lg mb-4">
                <div class="post-header">
                    <div class="author-avatar">TO</div>
                    <div class="post-author-info">
                        <p class="post-author-name">TownBoat Official</p>
                        <p class="post-time-ago">Just now</p>
                    </div>
                </div>
                <div class="post-body">
                    <p class="post-text">Welcome to TownBoat! Share local news, events, and discover businesses in your community. Let's make our town thrive together! âœ¨</p>
                </div>
                <div class="post-actions">
                    <button class="upvote-btn action-button" data-post-id="sample-id-1">
                        <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg>
                        <span class="upvote-count font-semibold">15</span>
                    </button>
                    <button class="comment-toggle-btn action-button" data-post-id="sample-id-1">
                        <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2 5a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3 1h8v4H5V6zm4 11v-3h2v3h-2z"></path></svg>
                        Comments (<span class="comment-count">3</span>)
                    </button>
                </div>
                <div class="comments-section p-4 hidden">
                    <div class="comments-list mb-4">
                        <p class="text-gray-500 text-sm text-center">No comments yet.</p>
                    </div>
                    <form class="add-comment-form flex items-center" data-post-id="sample-id-1">
                        <input type="text" placeholder="Add a comment..." class="comment-input w-full p-2 border rounded-lg mr-2 bg-gray-100 border-gray-200 text-gray-900">
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm">Post</button>
                    </form>
                </div>
            </div>
            
            <div class="post-card p-4 rounded-lg mb-4">
                <div class="post-header">
                    <div class="author-avatar">LG</div>
                    <div class="post-author-info">
                        <p class="post-author-name">Local Gardener ðŸŒ¿</p>
                        <p class="post-time-ago">1h ago</p>
                    </div>
                </div>
                <div class="post-body">
                    <p class="post-text">My rose bushes are blooming beautifully this season! Anyone else seeing a lot of flowers around town? Share your garden pics! ðŸŒ¸</p>
                    <img src="https://via.placeholder.com/400x200?text=Garden+Image" alt="Garden Image" class="post-image">
                </div>
                <div class="post-actions">
                    <button class="upvote-btn action-button" data-post-id="sample-id-2">
                        <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg>
                        <span class="upvote-count font-semibold">8</span>
                    </button>
                    <button class="comment-toggle-btn action-button" data-post-id="sample-id-2">
                        <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2 5a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3 1h8v4H5V6zm4 11v-3h2v3h-2z"></path></svg>
                        Comments (<span class="comment-count">2</span>)
                    </button>
                </div>
                <div class="comments-section p-4 hidden">
                    <div class="comments-list mb-4">
                        <p class="text-gray-500 text-sm text-center">No comments yet.</p>
                    </div>
                    <form class="add-comment-form flex items-center" data-post-id="sample-id-2">
                        <input type="text" placeholder="Add a comment..." class="comment-input w-full p-2 border rounded-lg mr-2 bg-gray-100 border-gray-200 text-gray-900">
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm">Post</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="home.js"></script>
    <script>
        // JavaScript for mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu-dropdown');
            mobileMenu.classList.toggle('hidden');
        });
    </script>
</body>
</html>
